"use strict";(self.webpackChunkpay_with_metamask=self.webpackChunkpay_with_metamask||[]).push([[382],{9382:function(e,t,n){n.r(t),n.d(t,{default:function(){return _}});var c=n(69307),a=n(99196),s=n(36286),r=n(13962),l=n(17749);const{const_msg:o,networkName:m}=connect_wallts,i=({currentchain:e})=>{const[t,n]=(0,a.useState)(!1),{chain:i}=(0,s.LN)(),{open:p,setOpen:u}=(0,r.dd)(),{isConnected:d,address:w}=(0,s.mA)(),{disconnect:_}=(0,s.qL)();if((0,a.useEffect)((()=>{i?.id===e.networks.id&&u(!1),p||n(!1)}),[i?.id,p]),p){const e=document.querySelector(".sc-dcJsrY div"),c=document.querySelector(".sc-imWYAI"),a=document.querySelector("#__CONNECTKIT__ button.sc-bypJrT");a&&!t&&(a.click(),n(!0)),c&&"Switch Networks"==e.firstChild.textContent&&(c.textContent=o.switch_network_msg)}return(0,c.createElement)(c.Fragment,null,!d&&(0,c.createElement)("div",{class:"cpmw_selected_wallet"},(0,c.createElement)("div",{className:"cpmw_p_network"},(0,c.createElement)("strong",null,o.select_network,":"),m)),i&&d&&(0,c.createElement)(c.Fragment,null,(0,c.createElement)("div",{class:"cpmw_p_connect"},(0,c.createElement)("div",{class:"cpmw_p_status"},o.connected),(0,c.createElement)("div",{className:"cpmw_disconnect_wallet",onClick:()=>{_()}},o.disconnect)),(0,c.createElement)("div",{class:"cpmw_p_info"},(0,c.createElement)("div",{class:"cpmw_address_wrap"},(0,c.createElement)("strong",null,o.wallet,":"),(0,c.createElement)("span",{className:"cpmw_p_address"},w)),(0,c.createElement)("div",{class:"cpmw_p_network"},(0,c.createElement)("strong",null,o.network,":")," ",e.networkResponse.decimal_networks[i?.id]?e.networkResponse.decimal_networks[i?.id]:i.name))),(0,c.createElement)(l.D8,{data:e,const_msg:o}),!d&&(0,c.createElement)(l.PP,{const_msg:o}))};var p=e=>{try{const[t,n]=(0,a.useState)(null);return(0,a.useEffect)((()=>{const t={appName:"Pay With Metamask",appDescription:window.location.host,chains:e.networks,appUrl:window.location.host,appIcon:"https://family.co/logo.png"};n((e=>{const t=(0,r._K)({appName:e.appName,chains:[e.chains],appDescription:e.appDescription,appUrl:e.appUrl,appIcon:e.appIcon});if(t){const e=[];e.push("metaMask");const n=t.connectors.filter((t=>{if(e.includes(t.id))return e.includes(t.id)}));return t.connectors=n,(0,s._g)(t)}})(t))}),[e.networks]),(0,c.createElement)(c.Fragment,null,t&&e.networks&&(0,c.createElement)(s.eM,{config:t},(0,c.createElement)(r.bO,{options:{hideBalance:!0,hideQuestionMarkCTA:!0},mode:"auto"},(0,c.createElement)(i,{currentchain:e}))))}catch(e){console.log(e)}},u=n(23094),d=n(52861);const w=async(e,{nonce:t,restUrl:n})=>{try{if(e){const c={_wpnonce:t,symbol:e};d.Z.defaults.headers.common["X-WP-Nonce"]=t;const a=`${n}selected-network`;return(await d.Z.post(a,c)).data}}catch(e){console.error(e)}};function _(){const{enabledCurrency:e,const_msg:t,currency_lbl:n,decimalchainId:s,active_network:r}=connect_wallts,[o,m]=(0,a.useState)(null),[i,d]=(0,a.useState)(null),[_,h]=(0,a.useState)(null),[E,k]=(0,a.useState)(!1),[y,f]=(0,a.useState)(!1),g=document.querySelector('input[name="payment_method"]:checked')?.value,v=document.querySelector("button#place_order");return(0,a.useEffect)((()=>{v.disabled="cpmw"===g}),[g]),(0,a.useEffect)((()=>{let t=[];0!==e.length&&(Object.values(e).forEach((e=>{if(!e.price)return;const n={value:e.symbol,label:(0,c.createElement)("p",{className:""},(0,c.createElement)("img",{src:e.url,alt:e.symbol})," ",e.price," ",e.symbol),rating:e.price};t.push(n)})),h(t))}),[]),[_?(0,c.createElement)(c.Fragment,null,(0,c.createElement)("div",{className:"cpmwp_currency_lbl"},n),(0,c.createElement)(u.ZP,{name:"cpmwp_crypto_coin",value:i,onChange:async e=>{k(!0),d(e);const t=await(0,l.M7)(s),n=await w(e.value,connect_wallts);f(n),m(t),k(!1)},options:_,placeholder:t.select_cryptocurrency}),(0,c.createElement)("input",{type:"hidden",name:"cpmw_payment_network",value:r}),E&&(0,c.createElement)(l.aN,{loader:1,width:250}),!E&&o&&(0,c.createElement)(p,{networks:o,currentprice:i,networkResponse:y})):(0,c.createElement)(l.aN,{loader:1,width:250})]}}}]);